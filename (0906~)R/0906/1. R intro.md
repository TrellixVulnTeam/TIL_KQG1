# R ?

- R은 데이터 분석을 위한 통계 및 그래픽스를 지원하는 자유 소프트웨어 환경이다
- R은 벨 연구소에서 만들어진 통계 분석 언어인 S에 두고 있다
- R은 현재 데이터 분석을 위한 도구로 많은 인기를 누리고 있다.
- R은 컴퓨터 언어이자 다양한 패키지의 집합이다
- R 안에서 대부분의 데이터 분석을 해낼 수 있다는 장점이 있다.
- R은 통계, 기계 학습, 금융, 생물정보학, 그래픽스에 이르는 다양한 통계 패키지를 갖추고 있으며 이 모든 것이 무료로 제공된다.
- R의 다양한 패키지는 CRAN(http://cran.r-project.org/web/views/)을 통해 한곳에서 살펴볼 수 있다.
- R은 공개 소프트웨어로 http://www.r-project.org/에서 다운로드해서 설치할 수 있다



## R 특성

- R은 **메모리**에서 모든 것을 처리
- Single thread를 사용
- 오픈 소스이므로 새로운 알고리즘이 빠르게 적용, 시험 된다
- 언어에 가까운 문장 형식을 사용해 자동화가 용이
- R은 입력된 명령을 1줄씩 바로 검사하고 처리하는 인터프리터 형태의 언어
- ` >`는 명령 프롬프트
- R은 대소문자를 다른 문자로 구별
- 이전 작업의 history기능은 방향키를 사용
- R종료는 q()를 사용
- 스크립트창을 열어서 코드를 입력하신 후 완성되면 해당 부분을 선택하고 CTRL+R을 눌러 실행하면 편리
- `# `기호는 주석

## R 패키지 

### 설치 

- 패키지 설치하기
  : install.package(“패키지명”)
- 패키지 사용하기
  : library(패키지명) / requrie(패키지명)명령
- 패키지 업데이트 
  : update.packages(“패키지명”)
- 패키지 삭제하기 
  : remove.packages(“패키지명”)
- 설치된 패키지 정보 확인 
  : librart(help=패키지명)
- CRAN 사이트에서 추가로 설치할 수 있는 패키지가 어떤 것들이 있는지 확인
  : available.packages()
- R패키지 개수 확인
  : dim(available.packages())
- 사용자가 R 프로그램을 시작한 후 R콘솔 시작 ~ 종료까지의 수행된 정보
  : sessioninfo()
- 설치된 R 패키지 목록 확인
  : installed.packages()



cf ) 종종 R studio에서 설치한 경로와 R GUI에서 설치한 경로가 달라 오류가 생기는 경우도 있음

![](C:\Users\student\Documents\GitHub\TIL\(0906~)R\0906\assets\location.png)

### load

- 설치된 패키지를 사용하기 위해 메모리에 로드
  :  library(stringr) || require(stringr)

![](C:\Users\student\Documents\GitHub\TIL\(0906~)R\0906\assets\library.png)



### 기능

- 기본 데이터셋 보기
  : data()

- 빈도수 히스토그램
  hist(Nile)

- 밀도 기준 히스토그램
  hist(Nile,freq=F)

- 분포곡선 그리기
  lines(density(Nile))
- ![](C:\Users\student\Documents\GitHub\TIL\(0906~)R\0906\assets\density.png)

- plot 영역에 표시할 그래프 개수 설정
  : par(mfrow=c(1,1))
- 파일 출력 경로
  : pdf("c:/workspaceR/sample.pdf")
- 정규분포를 따르는 난수 20개 생성해서 히스토그램 생성
  : hist(rnorm(20)) 
- 출력파일 닫기
  : dev.off()
- ![](C:\Users\student\Documents\GitHub\TIL\(0906~)R\0906\assets\1.png)



### 변수 선언

- 규칙 

  - 첫번째 문자는 영문자로 시작,
    두번째 문자부터는 숫자,_, . 사용가능

  - 대소문자 구분

  - 예약어 사용 불가

  - 변수에 저장된 값은 불변  (새로운 주소값이 부여된다)

    - ```R
      > x <- 3
      > tracemem(x)
      [1] "<0000000010B0CE18>"
      > x <- 'a'
      > tracemem(x) 
      [1] "<0000000010A7BCF8>"
      ```

      ![](C:\Users\student\Documents\GitHub\TIL\(0906~)R\0906\assets\11.png)

  - R은 변수 선언 시 자료형 (Type) 선언하지 않음.

### 데이터 타입

- - Scalar 변수 
    : 단일 값 (하나의  값) 을 저장하는 변수

  - 벡터(Vector)
    : 하나 이상의 여러개 자료를 저장 가능 한 1차원의 선형 자료 구조 (1차원 배열)

    - age <- 30
      age 변수는 하나의 값을 저장하고 있는 벡터 타입

      `[1] "numeric"`

    - age<- "29"
      class(age)

      `[1] "character"`

    - ```R
      #방법1
      age <-TRUE  #상수객체(TRUE, FALSE)
      class(age)
      `[1] "logical"`
      ```

      ```R
      #방법2
      # T 변수에 TRUE 저장, F 변수에 FALSE 저장
      age <- F
      class(age)
      ```

    - ```R
      name <-NA   #결측치 (Not Availabe : 연산불가)
      class(name)
      `[1] "logical"`
      ```

    - ```age <- NA
      class(age+19)
      `[1] "numeric"
      
      age<-null
      Error: object 'null' not found
      
      class(age+10)
      `[1] "numeric"
      ```

    - **na.rm=T**  
      : NA 무시하고 계산

      ```
      > sum(10,20,30)
      [1] 60
      > sum(10,20,30,NA)
      [1] NA
      > sum(10,20,30,NA,na.rm=T)
      [1] 60
      ```

    

  - is()
    : R session에서 생성한 변수 목록 확인

- - 자료형 확인
    - is.numeric(변수)
    - is.logical(변수)
    - is.character(변수)
    - is.na(변수)
    - is.list(객체)
    - is.data.frame(객체)
    - is.array(객체)
    - is.matrix(객체)

- - 자료형 형변환

    - as.numeric(변수)
    - as.logical(변수)
    - as.character(변수)
    - as.list(객체)
    - as.data.frame(객체)
    - as.array(객체)
    - as.matrix(객체)
    - as.integer(변수)
    - as.double(변수)
    - as.complex(변수)
    - as.factor(객체)
    - as.Date(객체)

  - as.numeric, as.integer 실습

    ```R
    > x<-c("1","2","3")
    
    > result <- x*3
    Error in x * 3 : non-numeric argument to binary operator
    > print(result)
    Error in print(result) : object 'result' not found  # 형변환 필요!
    
    > result <- as.numeric(x) * 3
    > print(result)
    [1] 3 6 9
    
    > result <- as.integer(x) * 3
    > print(result)
    [1] 3 6 9
    ```

  - complex 자료형 실습

    ```R
    > z <- 5.3-3i #복소수 자료형 생성
    
    > class(z)
    [1] "complex"
    
    > Re(z) #실수부만
    [1] 5.3
    > Im(z) #허수부만
    [1] -3
    
    > is.complex(z)
    [1] TRUE
    > as.complex(5.3)
    [1] 5.3+0i
    ```

- class(변수)는 자료구조의 Type반환
  mode (변수)는 자료의 Type반환

  - ```R
    age <- 29.5
    mode(age)
    [1] "numeric"
    
    > age <- "29"
    > mode(age)
    [1] "character"
    
    > age <- TRUE    
    > mode(age) 
    [1] "logical"
    
    > age <-F
    > mode(age)
    [1] "logical"
    ```

  - 

- 

